<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>零信任 on 笔迹-工匠之芯</title><link>https://icorer.com/icorer_blog/tags/%E9%9B%B6%E4%BF%A1%E4%BB%BB/</link><description>Recent content in 零信任 on 笔迹-工匠之芯</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sat, 16 Dec 2023 22:15:12 +0800</lastBuildDate><atom:link href="https://icorer.com/icorer_blog/tags/%E9%9B%B6%E4%BF%A1%E4%BB%BB/index.xml" rel="self" type="application/rss+xml"/><item><title>基于区块链的PKI管理框架</title><link>https://icorer.com/icorer_blog/posts/web3/blockchain-based-pki/</link><pubDate>Sat, 16 Dec 2023 22:15:12 +0800</pubDate><guid>https://icorer.com/icorer_blog/posts/web3/blockchain-based-pki/</guid><description>摘要 I.介绍 PKI问题及现有解决方案 基于日志的PKIs(Log-based PKIs) 信任网(WoT)（Web of Trust） 基于区块链的PKI（Blockchain-based PKI） II.背景 A.可信链（Chain of trust） B. 区块链技术 III. 相关工作 IV. 基于区块链的PKI框架 A.概述 B.设计方法论 C.架构 D.实现 E.区块链PKI的优势 V.评估和实验结果 A.性能 B.在以太坊中启动新CA的成本 C.局限性和挑战 VI. 结论 引用 摘要公钥基础设施（PKI）是促进互联网上安全信息交换的基石技术。但是，由于证书颁发机构（CA）可能会被用来为最终用户颁发未经授权的证书，因此PKI面临风险。最近的许多违规事件表明，如果CA受到损害，相应最终用户的安全将面临风险。作为一种新型的解决方案，区块链技术有可能解决传统PKI系统的问题，特别是消除单点故障和对CA缺点的快速反应。区块链能够在公共且不可变的分布式账本中存储和管理数字证书，从容产生完全可追溯的历史日志。在这篇论文中我们设计和开发了一个基于区块链的PKI管理框架，用于颁发、验证和撤销X.509证书。评估和实验结果证实，所提出的框架提供了更可靠、更强大的PKI系统，且维护成本适中。
I.介绍公钥基础设施（PKI）提供了一种通过互联网验证身份的安全方法。它定义了颁发、管理、验证和分发数字证书所需的策略和程序，以便安全地使用公钥加密。公钥的PKI管理通常基于证书标准X.509，该标准提供某些外部实体（证书颁发机构）对私钥所有权的验证。X.509证书被定义为公钥值与主题（例如域名）绑定的数据结构。绑定由受信任的证书颁发机构（CA）对每个证书进行数字签名来断言。CA可以通过深入验证私有证书持有者的身份来做出这一断言。
最近，知名CA的安全程序存在缺陷，表明CA的安全容易受到操作失误的影响。由于CA似乎是PKI中的单点故障，CA的错误或违规导致颁发未经授权的证书。例如，其中一件备受瞩目的是CA DigiNotar安全漏洞，导致利用该公司基础设施为知名域名颁发数百个流氓数字证书，其中包括google.com的一个。结果，在发现500多个假证书后，网络浏览器供应商被迫将荷兰CA DigiNotar颁发的所有证书列入黑名单。
在另外一个案例中，DigiCert Sdn是马来西亚的颁发机构。错误地颁发了22个弱SSL证书，这些证书可用于冒充网站和签署恶意软件。最终，主要浏览器不得不撤销对于DigiCert Sdn. Bhd颁发的所有证书的信任。（注：DigiCert Sdn. Bhd. 不隶属于美国公司 DigiCert, Inc.）美国大型证书颁发机构TrustWave也存在证书泄露问题。TrustWave承认，它向其中一位客户颁发了从属Root证书，以便该客户可以监控其内部网络上的流量。从属Root证书允许其持有者从Internet上的几乎任何域创建SSL证书。尽管TrustWave已经吊销该证书，并表示将不会向客户颁发从属跟证书，但这说明CA是多么容易犯错，以及这些失误的后果可能有多么严重。
PKI问题及现有解决方案提出了两种方法来解决SSL/TLS PKI问题：基于日志的PKI模式和点对点认证的去中心化网络（称为信任Web(WoT)）。
基于日志的PKIs(Log-based PKIs)该方法已被提议作为解决CA行为不当问题的新兴解决方案。其背后的想法是使用高度可用的公共日志服务器来监视和发布CA颁发的证书。这些公共日志通过确保最终客户只接受和信任公共记录的证书提供透明度。因此，CA的任何不当行为都会被用户和服务器检测到。Google的证书透明度（CT）是部署最广泛的基于日志的PKI，目前在Chrome和Firefox中都可用。与此同时，许多提案打算通过支持撤销和错误处理来扩展基于日志的PKI模式的功能。不幸的是，尽管有这些好处，基于日志的PKI仍然面对一些挑战，例如与证书吊销相关的挑战。
信任网(WoT)（Web of Trust）WoT的方法是完全分散的：用户可以通过签署其公钥证书来指定其他人值得信赖。通过这样做，用户积累了包含他的公钥和来自认为他值得信赖的实体的数字签名证书。如果可以验证该证书包含她/他信任的某人的签名，则该证书将手打第三方的信任。该系统受益于其分布式特性，因为它消除了任何中心故障点。然而，这使得新用户或远程用户加入网络变得困难，因为WoT的某些现有成员通常必须亲自与新用户会面，以首次验证她/他的身份并签署公钥。此外，与基于CA的方法不同，WoT无法处理密钥撤销。一个用户被限制选择另外一个用户作为她/他的“指定撤销者“，有权在私钥丢失或泄露时撤销她/他的证书。当前的使用方法依赖于定期向浏览器推动撤销列表。但是，这种方法会使无效证书受到信任，直到浏览器的吊销列表得到下一次推送为止。
基于区块链的PKI（Blockchain-based PKI）基于区块链的PKI启发了很多研究，它们基于区块链技术构建安全的PKI系统。他们的主要论点是，基于区块链的解决方案可以融合基于日志的PKI和WoT方法的优点，并解决传统PKI系统的一些问题。一方面，区块链解决了基于日志PKI方法的潜在故障点和部署问题，我们将在稍后讨论。另一方面，基于区块链的方法减轻了新证书持有者对WoT的需求，以证明现有网络成员的可信度。
我们的主要贡献是一个完整的基于区块链的PKI框架来管理X.509证书。我们的框架包含多项创新。第一，我们扩展标准X.509证书以与基于区块链的PKI方法兼容，我们使用X.509的扩展字段用于嵌入区块链元数据。第二，我们设计并实现了基于区块链的PKI，为数字证书提供可靠的管理。
本文的其余部分安排如下：第二节介绍了证书验证机制（称为信任链）的背景，并介绍了区块链技术如何帮助构建安全的PKI系统。第三节探讨了使用区块链实施PKI的相关工作。第四节我们展示了基于区块链的PKI解决方案。第五节提供了评估结果和讨论。最后，第六节对本文进行了总结。
II.背景在这一节，首先我们介绍信任链背后的想法，用于验证X.509证书。然后我们简要介绍了区块链技术以及如何使用它来构建PKI管理框架。
A.可信链（Chain of trust）传统的PKI系统是基于CA的，CA颁发签名证书，完全符合X.509标准，用于证明实体对公钥的所有权。例如，当用户通过网络浏览器登录Twitter时，网络浏览器首先通过检查给定证书的CA来验证持有Twitter公钥的所声明的证书。通常Web浏览器已预先配置为接受来自某些已知CA的证书。因此，为了使证书受到信任，它必须由用户浏览器或设备中受信任存储中存在的根CA颁发，或者由受根CA签名信任的子CA颁发。通常，Mozilla产品附带154个根证书。此外，苹果、微软和谷歌在其产品中嵌入了自己的受信任根证书存储。
给定证书和根证书之间的链接称为信任链。重要的是，信任链可以包含给定证书和根CA证书之间任意数量的子CA证书。然后，X509v3有一个名为Basic Constraints的扩展，该扩展可以限制有效证书链（信任链）的最大深度。
图1说明了从最终实体证书到信任链开始的根CA的认证路径。因此，如果最终实体证书不是由受信任的CA颁发的，则Web浏览器将检查颁发CA的证书是否由受信任的CA颁发，依此类推，直到找到受信任的CA，或者如果在链中找不到受信任的CA，则浏览器通常会显示错误。
B. 区块链技术区块链或分布式账本被证明是互联网行业中最有趣的技术，主要是在见证了比特币的成功之后。目前，大多数区块链平台都用于金融应用，但越来越多的不同领域的新应用开始出现。需要高可靠性和完全消除数据操作风险的应用程序可以使用区块链。此外，区块链是分布式的，因此避免了单点故障的情况。
最近几年区块链进化到可以执行任意逻辑，称为智能合约。从概念上讲，智能合约是一个运行在区块链之上的应用程序，并使用底层交易顺序来保持对等点之间智能合约执行结果的一致性。例如，以太坊区块链支持复杂且有状态的图灵完备语言，如Solidity，可用于编程和定义广泛的应用场景。
在PKI背景下，区块链技术提供了有价值的安全功能，例如证书撤销、消除中心故障点和可靠的交易记录。例如，通过快速证书吊销，基于区块链的PKI可以立即隔离受感染的CA和相应的证书，而无需等到证书吊销列表（CRL）的下一次更新。此外，基于区块链的PKI作为公共的 ”仅追加“日志，自然提供了Google提出的证书透明度（CT）属性。</description></item><item><title>采用零信任模型的13个必备功能</title><link>https://icorer.com/icorer_blog/posts/zerotrust/13-must-have-features-to-adopting-a-zero-trust-model/</link><pubDate>Sun, 11 Dec 2022 11:55:18 +0800</pubDate><guid>https://icorer.com/icorer_blog/posts/zerotrust/13-must-have-features-to-adopting-a-zero-trust-model/</guid><description> 处理服务网格安全性的最佳方法是采用零信任模型，这意味着每个连接，无论其来源如何，都必须经过验证和保护。为了帮助您评估服务网格技术并实施零信任安全，我们展示了13个必备功能，以确保您的应用程序连接安全。
1. 传输层安全性（TLS 和 mTLS）提供端到端加密以保护任何一对端点之间的移动数据。它可能是最基本的组件，但令人惊讶的是并非所有服务网格都完全支持双向 TLS。 2.授权例如，Open Policy Agent (OPA) 将服务 API 策略定义为代码。授权是身份验证的另一面，一旦您验证了他们的身份，便可以控制谁可以访问哪些资源。
3.证书管理从集中式平台控制和执行 SSL 证书以验证连接。证书轮换可能是一个痛苦的管理步骤，应该从容应对。这应该是可扩展的以支持外部权限，这意味着它将与您已经使用的企业身份和访问管理解决方案一起工作。
4.基于角色的联合出入控制(RBAC)和委托向用户授予与其职责相适应的权限，并再次在所有地方始终如一地应用此权限。这些控制可以应用于不同级别的操作员管理服务网格，也适用于构建在网格中运行的应用程序的开发人员。
5.联合信任域跨环境安全地验证用户和应用程序，在任何地方一致地扩展验证策略。否则，您将花费大量精力尝试保持各种角色的更新和同步——并且可能会犯一些错误。
6.联邦信息处理标准 (FIP) 140-2意味着您的服务网格技术已经过验证，可以满足美国政府制定的特定严格安全标准。有许多政府法规和行业最佳实践，但 FIPS 是一种常用的安全基准方法。
7.多租户和隔离让服务网格中的用户和应用程序安全地共享资源。拥有 RBAC 后，您可以安全地定义谁可以触摸什么，并有效地为不同角色创建隔离的工作区。 服务网格的授权策略也可用于防止不需要的流量到达您的应用程序。
8. 内置 Web 应用程序防火墙 (WAF)筛选入站流量中的威胁并阻止攻击渗透到您的边界。对于任何暴露在互联网上的边缘网关来说，它对于传入的用户和应用程序连接请求都是必不可少的,WAF除了边界网关模型，还需要内置进入各类端点程序，让WAF可以增强东西流量应用层的安全性。
9.数据丢失防护 (DLP)监控数据泄露或泄露，以防止数据丢失和数据泄漏。如果您的应用程序以某种方式受到损害，您不希望数据逃离您的边界。
10.与机密管理集成对于管理密码、安全令牌和加密密钥等敏感凭证的 Kubernetes。您会惊奇地发现这些信息仍然被硬编码到应用程序中或以纯文本形式存储的频率。
11.多集群访问可观察性提供整个系统所有活动的完整日志聚合和可审计性。这对于事件发生后的实时监控和取证都非常有用。对于分布式应用程序，有必要获得一个整体视图。许多人使用 Prometheus 和 Grafana 等开源工具来实现可观察性。 12.漏洞扫描和发布查找、解决和警告系统中的任何弱点。安全性取决于其最薄弱的环节，因此检查您的防御措施是否存在漏洞非常重要。 13.集群中继的安全拉取模型在整个系统中安全地共享配置。这非常微妙，但您希望确保任何配置更改都在请求时分发到边缘，并且仅在请求时分发。
附录 What is mtls The zero trust authorization core What is Certificate Management RBAC vs. ABAC: What’s the Difference Creating Federation Trust between organizations FIPS 140-2 OWASP Coraza WAF Web application firewall (WAF) What is DLP</description></item><item><title>使用区块链将零信任架构扩展到端点：最先进的审查</title><link>https://icorer.com/icorer_blog/posts/blockchain_with_zerotrust/</link><pubDate>Tue, 15 Feb 2022 23:50:18 +0800</pubDate><guid>https://icorer.com/icorer_blog/posts/blockchain_with_zerotrust/</guid><description>摘要为了防御当今无边界网络中的横向移动，零信任架构(ZTA)的采用势头越来越猛。有了全面的 ZTA 实施，对手不太可能从受损的端点开始通过网络传播。然而，已经经过身份验证和授权的受损端点会话可以被用来执行有限的(尽管是恶意的)活动，最终使端点成为 ZTA 的致命弱点。为了有效地检测此类攻击，已经开发了具有基于攻击场景的方法的分布式协同入侵检测系统。尽管如此，高级持续威胁(APTs)已经证明了它们绕过这种方法的能力，并且成功率很高。因此，对手可以不被发现地通过或潜在地改变检测记录机制，以实现隐蔽的存在。最近，区块链技术在网络安全领域展示了可靠的使用案例。在本文中，受基于 ZTA 和区块链的入侵检测和防御的融合的推动，我们研究了如何将 ZTA 扩展到端点。也就是说，我们对 ZTA 模型、以端点为重点的真实体系结构以及基于区块链的入侵检测系统进行了最先进的审查。我们讨论了区块链的不变性增强检测过程的潜力，并确定了开放的挑战以及潜在的解决方案和未来的方向。
一、介绍随着云计算的革命，大多数企业的资源和数据不再存储在内部。此外，最近的新冠肺炎疫情事件极大地改变了工作模式，因为大多数员工和企业不得不转向在家工作。在家工作(和远程工作)会给组织带来新的严重安全风险，因为许多“未经培训”的员工使用自己的设备连接到工作信息技术(IT)系统。云计算和远程工作是企业必须扩大其数字安全范围并适应当代趋势的例子。
在传统的基于外围的安全模型中，组织在外围的资源和资产被认为是良性的和可信的。边界通常由安全措施保护，如防火墙或入侵检测系统。这种模式在云计算和远程工作领域似乎不太有效，针对远程工作员工的几次网络攻击(例如[1-5])就表明了这一点。
信任是传统的基于边界的安全模型所依赖的基本原则。员工或合作者的设备和组织资产(即端点)通常在默认情况下是可信的，而不管其状况如何。如果攻击者能够控制这些端点中的任何一个，那么边界就会受到威胁，并且通过横向移动有可能实现对信息和数据的进一步访问。
防火墙、防病毒技术、入侵检测和防御系统(IDS/IPS)和网络应用防火墙(WAFs)，换句话说，大石墙和装甲前门，已经不足以保证现代 IT 和运营技术(OT)环境的安全[6]。基于外围的安全是多家公司采用的主要概念，尤其是当他们的数据驻留在内部数据中心时。建立在内部和外部差异基础上的传统防御模式正在过时[7]，而与此同时，威胁格局也在急剧演变[8]，最终导致基于外围的安全架构的衰落。
为了应对当今复杂的网络基础设施和当前不断发展的威胁形势，需要一种新的安全架构。ZTA 通过建立无边界的基于数字身份的边界脱颖而出，在这个边界中，数据处于安全架构的中心，破坏思维主导着威胁模型， 引领着访问控制环境、运营、托管环境、端点和互连基础架构。ZTA 提倡一种新的安全架构，默认情况下，任何设备、系统、用户或应用程序都不应该基于其在网络中的位置而受到固有的信任。相反，不管在什么地方，信任总是要赢得和验证的。然而，这并不一定意味着在ZTA 的情况下信任被消除，而是应该最小化，直到通过ZTA 信条和核心组成部分证明不是这样。
使用传统的基于边界的防御，如果坚定的攻击者能够在端点上建立经过身份验证和授权的立足点，他们仍然可以绕过 ZTA 安全健康检查。例如，操作系统内核中的潜在恶意软件可以篡改在 ZTA 环境中进行的安全检查。这最终导致绕过在 ZTA 实施的基本控制，这将允许攻击者除了横向移动之外，还执行一些以用户和设备为中心的恶意活动。因此，需要一种有效的入侵检测方法来解决端点的漏洞，这可以被视为 ZTAs 的致命弱点。
在本文中，我们旨在研究如何利用区块链的不变性增强入侵检测过程的潜力，将 ZTA 扩展到端点，以消除上述问题。为此，我们首先回顾零信任的核心原则、能力和要求。其次，我们对现有的现实世界零信任实现进行分类，并讨论它们的优缺点。第三，我们探索了区块链在开发和改进分布式协作入侵检测系统(DCIDSs)方面的潜力，该系统可以缓解ZTA 的致命弱点(即端点的脆弱性)。最后，我们讨论了开放的问题和挑战，并强调了ZTA和基于区块链的分布式入侵检测系统的潜在解决方案和研究方向。
据我们所知，这是第一个利用区块链技术成功将ZTA扩展到端点的工作。表1给出了本文中使用的主要缩写及其定义。
二、零信任（ZT）在本节中，我们简要介绍了“零信任”和 ZTA 的历史，并讨论了零信任的核心原则、核心能力、模型和现有方法，包括现实世界的实现。
2.1 零信任架构的历史2004 年的杰里科论坛提出了去周边化的想法(当时是激进的)[3]，随后发展成为更广泛的零信任概念。早在2010 年，J. Kindervag [15]就创造了“零信任”一词；然而，在此之前，网络安全领域就存在零信任概念。美国国防部和国防信息系统局(DISA)提出了一项名为“黑核”的安全战略，并于 2007 年发表[16]。Black core讨论了从基于外围的安全架构向强调保护单个交易的安全架构的过渡。
云和移动计算的广泛采用极大地促进了 ZTAs 的发展，例如，作为其中的一部分，基于身份的架构等方法慢慢获得了关注和更广泛的接受。谷歌以“BeyondCorp”的名义发布了一系列关于如何实现零信任架构的六个文档[17-22]。BeyondCorp项目倡导去边界化的概念，认为基于边界的安全控制已经不够，安全应该扩展到用户和设备。由于这个项目，谷歌放弃了传统的基于虚拟专用网络(VPNs)的远程工作方式，并设法提供了一个合理的保证，即所有公司用户都可以通过不安全和不受管理的网络访问谷歌的网络。
2.2 从传统的周边架构到ZTA作为一种理念，“零信任”假设对用户、设备、工作负载和网络流量的信任不应被隐含地授予[15]，其结果是所有实体都必须被明确地验证、认证、授权和持续监控。零信任的核心目标之一是，一旦对手成功危及用户的设备，甚至简单地窃取他们的凭据，就会严重抑制对手横向移动的能力。因此，需要相应地塑造和准备信息技术基础设施。
传统的基于外围的安全架构会创建多个信任区域[2]。并非所有区域都遵守相同的规则或相同的信任级别。事实上，如果相关组件没有明确允许，用户甚至可能无法进入下一个区域。这被称为纵深防御，正如史密斯[23]所讨论的，并在图1中描述，或者称为城堡和护城河方法[24]。请注意，在到达大型机之前，不同的区域(互联网、非军事区、可信和特权)受到各种基于外围的控制的保护，例如本地代理、虚拟专用网网关、多个防火墙和应用程序服务。在这个例子(即图1)中，大型机是一个核心银行系统，负责所有交易，因此它被完全隔离在一个特权区域中。
与传统的安全架构不同，零信任要求从内到外进行思考、构建和保护。基于谷歌[19] [20]、Jericho[3]和Kindervag[15] [25]的上述工作，有一个直接和重要的观察， 即在ZTA，一旦网络位置依赖性变得无关紧要，虚拟专用网技术就可以被消除。简而言之，虚拟专用网允许远程工作的用户(在图1中用“远程员工”表示)通过安全的加密通道连接到办公室(在图1中用“可信”表示)。但是，应该通过其他方式保护端点，因为虚拟专用网加密只处理“远程员工”和“可信”区域之间的隧道。当“远程员工”通过身份验证并成功建立隧道时，他/她会收到“可信”区域的远程网络中的一个 IP 地址。在该隧道上， 从“远程员工”到“可信”区域的流量被解封并路由，因此导致“官方”后门。此外，被称为“虚拟专用网网关”的单一入口点充当体系结构和网络的单一故障点或扼杀点。因此，如果我们开始认为网络位置无关紧要，同时应用一组适当的控制，那么如果没有进一步的依赖关系 (例如，具有传统协议的应用程序)，就可以消除虚拟专用网络。也就是说，身份验证和授权以及策略实施应该立即向网络边缘和端点靠拢。
为了反映上面的论点，我们绘制了图 2，显示了对 ZTA的引用。为了简化起见，在图中，我们只包括核心组件，例如，本地代理(LB)、远程员工、移动设备、不可信客户端和许多需要保护的服务。与基于边界的架构相比，如图 1 所示，没有区域，安全性是由内而外构建的。此外，既没有 VPN 网关，也没有防火墙来过滤网络流量， 最重要的是没有单一的入口网关。我们注意到；但是，控制平面上的策略执行点。这种 ZTA 参考不会像基于外围的架构那样产生任何瓶颈。</description></item></channel></rss>