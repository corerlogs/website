<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>PulseFlow插件端 on 工匠之芯-文档中心</title><link>https://icorer.com/icorer_docs/doccenter/pulseflow/pulgin_designed/</link><description>Recent content in PulseFlow插件端 on 工匠之芯-文档中心</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><atom:link href="https://icorer.com/icorer_docs/doccenter/pulseflow/pulgin_designed/index.xml" rel="self" type="application/rss+xml"/><item><title>2.1 扩展总览</title><link>https://icorer.com/icorer_docs/doccenter/pulseflow/pulgin_designed/2.1/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://icorer.com/icorer_docs/doccenter/pulseflow/pulgin_designed/2.1/</guid><description> NetHandle # This is a library for building high-performance TCP server applications, standing on the shoulders of Go giants and redcon
1. Features # High performance, low resource consumption Very easy to use development interface 2. Install # go get -u uriModule/NetHandle
3. Performance Testing: # 3.1 50*10000 (50 threads X 10000 requests) # 3.2 50*20000 (50 threads X 20000 requests) # 3.3 100*10000 (100 threads X 10000 requests) #</description></item><item><title>2.2 数据结构</title><link>https://icorer.com/icorer_docs/doccenter/pulseflow/pulgin_designed/2.2/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://icorer.com/icorer_docs/doccenter/pulseflow/pulgin_designed/2.2/</guid><description>二. 数据结构 # 思来想去，要把这个扩展目前的功能阐述完全，首先我们来描述一下相关数据结构。
数据结构是扩展运行的基石，如何构造简单的数据结构，既能完整记录相关数据，又能够减少数据查询次数和提高数据进程间传输的便利性。
2.1 数据结构要求 # 在设计扩展的数据结构时，我们需要保障以下几点。
数据结构足够简单，便于代码阅读。
数据结构具有较高效能，最多容忍O(n)复杂度。
数据结构要便于传输，由于牵扯到IPC通信，所以这个部分特别重要。
在这基础上，我们设计了三类数据结构，包括：进程全局变量、SVIPC_Func_Struct 和 Function_Prof_Struct 。
2.2 进程全局变量 # 由于目前我们的进程模型是PHP-FPM，每一个PHP-FPM进程拥有一份独立的全局变量区域，全局变量主要围绕以下几个方面来设计。
INI配置文件加载变量
全局数据结构数据
数据1主要在PHP的 MI生命期阶段进行加载INI配置文件选项，数据2主要是为了完成插件功能而开辟的全局变量。
2.2.1 扩展配置参数 # 变量名 INI文件配置对应名称 默认值 含义 enabled PulseFlow.enabled false 是否启用插件？ disable_trace_functions PulseFlow.disable_trace_functions 空字符串 禁止跟踪的函数名列表（逗号分割） disable_trace_class PulseFlow.disable_trace_class 空字符串 禁止跟踪的类名列表（逗号分割） svipc_name PulseFlow.svipc_name /PulseFlow_sv_ipc System V IPC 所需要的文件路径名 svipc_gj_id PulseFlow.svipc_pj_id 1000 System V IPC 所需要的项目ID max_package_size PulseFlow.max_package_size 0 组件内部允许的最大消息队列发包大小，超过这个大小进行分包发送 log_dir PulseFlow.log_dir 空字符串 Plugin Log Dir ( 如果此参数不为空，则开启插件日志记录，目前只会记录必要日志信息 ) sampling_rate PulseFlow.</description></item><item><title>2.4 日志功能</title><link>https://icorer.com/icorer_docs/doccenter/pulseflow/pulgin_designed/2.4/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://icorer.com/icorer_docs/doccenter/pulseflow/pulgin_designed/2.4/</guid><description/></item><item><title>2.3 功能流程</title><link>https://icorer.com/icorer_docs/doccenter/pulseflow/pulgin_designed/2.3/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://icorer.com/icorer_docs/doccenter/pulseflow/pulgin_designed/2.3/</guid><description/></item></channel></rss>